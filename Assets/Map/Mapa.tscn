[gd_scene load_steps=17 format=3 uid="uid://cwebqd2jf65fg"]

[ext_resource type="Texture2D" uid="uid://dwe7jn07kiokn" path="res://Assets/Map/suelo_planta_superior.png" id="2_3xe2r"]
[ext_resource type="Shader" path="res://Shaders/Outline.gdshader" id="3_ygyxk"]
[ext_resource type="Texture2D" uid="uid://rv2aw4hcncwk" path="res://Assets/Map/borde_izquierdo.png" id="4_w0n3p"]
[ext_resource type="Texture2D" uid="uid://dmcxkhui2liup" path="res://Assets/Map/borde_derecho.png" id="5_2oot1"]
[ext_resource type="PackedScene" uid="uid://cysdgl8aojt6b" path="res://Assets/TriggerArea/TriggerArea.tscn" id="6_8fj8t"]
[ext_resource type="PackedScene" uid="uid://bq026lg6n6o7t" path="res://Assets/Actionables/LayerSwapper.tscn" id="6_iagc4"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_hpdk4"]
shader = ExtResource("3_ygyxk")
shader_parameter/line_color = Color(0.0705882, 0.0705882, 0.0705882, 1)
shader_parameter/line_thickness = 0.5

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_upjr5"]
friction = 0.0
bounce = 0.3

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gpckx"]
size = Vector2(4, 253)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_x1ufk"]
friction = 0.1
bounce = 0.15

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2jn3q"]
size = Vector2(3.5, 27)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qusb7"]
radius = 2.0
height = 28.0

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_7g8qb"]
friction = 0.0
bounce = 0.15

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_rliw8"]
friction = 0.0
bounce = 0.15

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ojb86"]
radius = 2.0
height = 20.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ymlyk"]
size = Vector2(16, 18.173)

[node name="Mapa" type="Node2D"]
position = Vector2(642, 356)
metadata/_edit_horizontal_guides_ = [0.0]
metadata/_edit_vertical_guides_ = [240.0]

[node name="SueloPlantaSuperior" type="Sprite2D" parent="."]
z_index = 45
position = Vector2(-2, 0)
texture = ExtResource("2_3xe2r")

[node name="Borde izquierdo" type="Sprite2D" parent="."]
z_index = 60
material = SubResource("ShaderMaterial_hpdk4")
position = Vector2(-2, 0)
texture = ExtResource("4_w0n3p")

[node name="Borde derecho" type="Sprite2D" parent="."]
z_index = 45
material = SubResource("ShaderMaterial_hpdk4")
position = Vector2(-2, 0)
texture = ExtResource("5_2oot1")

[node name="Carril shooter" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 0
physics_material_override = SubResource("PhysicsMaterial_upjr5")

[node name="Borde derecho" type="CollisionPolygon2D" parent="Carril shooter"]
position = Vector2(0, -1)
rotation = 3.14159
scale = Vector2(1, -1)
polygon = PackedVector2Array(0, 353, -312, 353, -305.001, -349.999, -1.00089, -350, -0.000798582, -315, -54.0008, -311, -81.0008, -307, -108.001, -301, -129.001, -295, -150.001, -287, -164.001, -280, -177.001, -272, -191.001, -262, -202.001, -249.999, -211.001, -239.999, -218.001, -227.999, -224.001, -215.999, -229.001, -202.999, -233, -190.999, -235, -180.999, -238, -159.999, -240, -127.7, -240, 313, -216.999, 313.001, -217, 188.001, -211, 188.001, -210.999, 218.001, -203.999, 221.001, -192.999, 221.001, -185.999, 217, -185.929, 204.793, -101.999, 255, -102.783, 313, 0, 313)

[node name="Curva inferior carril shotter" type="CollisionPolygon2D" parent="Carril shooter"]
position = Vector2(4, 0)
polygon = PackedVector2Array(214, -133, 210, -158, 205, -183, 198, -201, 187, -220, 175, -237, 158, -255, 126, -273, 94, -286, 50, -296, 44, -288, 80, -279, 110, -270, 129, -261, 143, -252, 157, -241, 169, -228, 178, -215, 183, -204, 193, -187, 198, -171, 206, -125, 207, 29, 214, 30, 214, -130)

[node name="Barrera carril shooter2" type="CollisionShape2D" parent="Carril shooter"]
position = Vector2(216, 185.5)
shape = SubResource("RectangleShape2D_gpckx")

[node name="Bordes permanentes" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 0
physics_material_override = SubResource("PhysicsMaterial_x1ufk")

[node name="Borde izquierdo" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(0, -2)
polygon = PackedVector2Array(0, 353, -312, 353, -303, -349, 1, -349, 0, -314, -48, -313, -84, -306, -96, -303, -128, -302, -133, -317, -139, -326, -148, -333, -156, -338, -166, -341, -175, -342, -184, -341, -192, -339, -202, -334, -210, -327, -218, -318, -222, -308, -224, -297, -224, -286, -221, -275, -215, -266, -205, -254, -215, -240, -220, -231, -225, -220, -228, -213, -232, -204, -235, -195, -235, -183, -248, -182, -257, -176, -269, -166, -276, -152, -281, -136, -285, -115, -285, -49, -283, -43, -281, -40, -277, -38, -273, -37, -273, -34, -281, -31, -284, -23, -281, -16, -273, -12, -273, -9, -280, -5, -284, 6, -284, 18, -280, 27, -273, 33, -265, 36, -266, 44, -266, 172, -266, 199, -258, 205, -256, 209, -245, 209, -243, 205, -236, 200, -236, 187, -140, 235, -140, 313, 0, 314)

[node name="Barrera slingshot izquierdo" type="CollisionPolygon2D" parent="Bordes permanentes"]
polygon = PackedVector2Array(-239, 86, -239, 128, -83, 206, -81, 202, -235, 125, -235, 86)

[node name="Barrera slingshot derecho" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(-28, 16)
rotation = 3.14159
scale = Vector2(1, -1)
polygon = PackedVector2Array(-214, 51, -214, 137.001, -107, 190, -106, 186, -209, 133.001, -209, 51)

[node name="Boca salida rampa" type="CollisionShape2D" parent="Bordes permanentes"]
position = Vector2(-208.75, 96.5)
shape = SubResource("RectangleShape2D_2jn3q")

[node name="Curva superior rampa entrada" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(-17, -42)
polygon = PackedVector2Array(-170, -200, -167, -200, -160, -162, -157, -145, -152, -134, -141, -123, -113, -93, -118, -90, -132, -105, -148, -121, -173, -133, -189, -138, -193, -149, -188, -164)

[node name="Curva superior rampa entrada2" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(31, 27)
polygon = PackedVector2Array(-146, -140, -134, -124, -124, -107, -131, -106, -140, -122, -151, -137)

[node name="Curva inferior rampa entrada" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(-44, -38)
polygon = PackedVector2Array(-131, -93, -155, -115, -159, -107, -137, -86, -126, -70, -118, -74, -122, -84)

[node name="Curva inferior rampa entrada3" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(-21, 3)
polygon = PackedVector2Array(-131, -89, -135, -97, -140, -94, -137, -87, -135, -76, -130, -76)

[node name="Curva inferior rampa entrada2" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(-31, 20)
polygon = PackedVector2Array(-163, -60, -166, -54, -171, -52, -171, -49, -166, -47, -163, -45, -161, -42, -160, -38, -161, -34, -163, -31, -166, -29, -171, -27, -171, -24, -167, -23, -165, -21, -164, -18, -164, -16, -164, 10, -167, 15, -174, 20, -184, 20, -184, 27, -184, 31, -176, 31, -176, 26, -169, 24, -164, 22, -159, 17, -156, 11, -156, -34, -156, -60, -156, -74, -157, -89, -158, -99, -160, -106, -165, -117, -183, -126, -194, -135, -196.342, -127.293, -189, -121, -177, -116, -171, -112, -167, -103, -165, -95)

[node name="Pared bumpers" type="CollisionPolygon2D" parent="Bordes permanentes"]
position = Vector2(-9, 10)
polygon = PackedVector2Array(-24, -130, 16, -119, 10, -101, -28, -112)

[node name="Carril" type="CollisionShape2D" parent="Bordes permanentes"]
position = Vector2(-32, -255)
shape = SubResource("CapsuleShape2D_qusb7")

[node name="Carril 2" type="CollisionShape2D" parent="Bordes permanentes"]
position = Vector2(-3, -255)
shape = SubResource("CapsuleShape2D_qusb7")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Bordes permanentes"]
polygon = PackedVector2Array(96, -102, 107, -96, 119, -113, 131, -132, 140, -155, 146, -174, 148, -194, 143, -209, 134, -224, 116, -238, 96, -249, 71, -258, 24, -269, 24, -241, 46, -237, 62, -232, 78, -226, 92, -217, 105, -205, 114, -190, 118, -174, 118, -158, 116, -148, 113, -136)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Bordes permanentes"]
polygon = PackedVector2Array(-97, -281, -117, -246, -107, -227, -60, -242, -61, -267, -80, -284)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Bordes permanentes"]
polygon = PackedVector2Array(-243, 51, -243, 40, -235, 42, -235, 51)

[node name="Capa inferior" type="StaticBody2D" parent="."]
collision_layer = 4
collision_mask = 0
physics_material_override = SubResource("PhysicsMaterial_7g8qb")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Capa inferior"]
position = Vector2(-24, -91)
scale = Vector2(1, 1.4375)
polygon = PackedVector2Array(-216, 93, -188, 93.2174, -188, 96, -216, 96.6957)
one_way_collision_margin = 3.0

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Capa inferior"]
position = Vector2(-21, -41)
polygon = PackedVector2Array(-214, -146, -216, -119, -216, -110, -219, -108, -221, -119, -220, -145)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Capa inferior"]
position = Vector2(-38, -38)
polygon = PackedVector2Array(-168, -142, -168, -125, -161, -105, -157, -102, -164, -125, -164, -141)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Capa inferior"]
position = Vector2(20, 29)
polygon = PackedVector2Array(-138, -140, -155, -133, -172, -124, -170, -121, -153, -130, -136, -136)

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Capa inferior"]
position = Vector2(6, 6)
polygon = PackedVector2Array(-140, -144, -155, -132, -175, -120, -172, -116, -153, -128, -137, -141)

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="Capa inferior"]
position = Vector2(217, 45)
rotation = -1.57079
polygon = PackedVector2Array(-17, -6, 16, -6.00006, 16, 0.999939, -17, 1)
one_way_collision = true

[node name="CollisionPolygon2D8" type="CollisionPolygon2D" parent="Capa inferior"]
polygon = PackedVector2Array(-228, -107, -236, -116, -242, -127, -242, -138, -239, -151, -233, -147, -236, -138, -232, -125, -225, -116)

[node name="Curva inferior carril shotter2" type="CollisionPolygon2D" parent="Capa inferior"]
position = Vector2(4, 0)
polygon = PackedVector2Array(201, -158, 194, -184, 187, -201, 179, -217, 167, -234, 156, -243, 170, -227, 181, -209, 186, -196, 188, -182, 188, -172, 186, -156, 180, -139, 166, -112, 144, -72, 144, -21, 176, 2, 176, 37, 181, 37, 180, -79, 206, -79, 208, 2, 206.872, -47.2404, 205, -129)

[node name="Capa superior" type="StaticBody2D" parent="."]
collision_layer = 8
collision_mask = 0
physics_material_override = SubResource("PhysicsMaterial_rliw8")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Capa superior"]
position = Vector2(-12, -61)
polygon = PackedVector2Array(-198, -128, -223, -130, -223, -124, -207, -123, -194, -119)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Capa superior"]
position = Vector2(-40, 3)
polygon = PackedVector2Array(-160, -155, -171, -160, -185, -163, -196, -159, -194, -149, -183, -156, -171, -152, -161, -146)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Capa superior"]
position = Vector2(8, 68)
polygon = PackedVector2Array(-160, -163, -170, -180, -178, -176, -168, -158)

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Capa superior"]
position = Vector2(45, 49)
polygon = PackedVector2Array(-160, -162, -168, -174, -175, -184, -180, -181, -173, -170, -165, -159)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Capa superior"]
position = Vector2(-25, -19)
polygon = PackedVector2Array(-215, 70, -214, 105, -210, 105, -211, 70)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Capa superior"]
position = Vector2(7, -10)
polygon = PackedVector2Array(-218, 58, -218, 93, -214, 93, -214, 57)

[node name="Carril_Rampa" type="CollisionShape2D" parent="Capa superior"]
position = Vector2(-260, -69)
shape = SubResource("CapsuleShape2D_ojb86")

[node name="Carril_Rampa2" type="CollisionShape2D" parent="Capa superior"]
position = Vector2(-227, -68)
shape = SubResource("CapsuleShape2D_ojb86")

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="Capa superior"]
polygon = PackedVector2Array(-265, 36, -243, 40, -243, 46, -266, 42)

[node name="Carril_Shooter_Lane" type="StaticBody2D" parent="."]
rotation = 2.09439
collision_layer = 2
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Carril_Shooter_Lane"]
position = Vector2(-267.191, 95.3929)
rotation = 3.14159
scale = Vector2(0.946212, 0.689103)
polygon = PackedVector2Array(-16.5859, 1.45007, 37.6155, -3.138, 36.4171, -8.89055, 6.5787, -10.2111, -24.0216, -27.8439)
one_way_collision = true

[node name="Salida_Round_Bumper" type="StaticBody2D" parent="."]
position = Vector2(-137, -15)
rotation = 2.09439
collision_layer = 2
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Salida_Round_Bumper"]
position = Vector2(-273.066, 106.878)
rotation = -0.79408
scale = Vector2(0.987314, 0.681202)
polygon = PackedVector2Array(-3.75168, 13.6841, 10.4539, 16.3463, 25.0943, 22.23, 25.8974, -9.43823, 11.856, -7.46436, -1.5377, -14.3704)
one_way_collision_margin = 10.0

[node name="Carril_Shooter_Lane_half" type="StaticBody2D" parent="."]
position = Vector2(177, 138)
rotation = 2.09439
collision_layer = 16
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Carril_Shooter_Lane_half"]
position = Vector2(-90.6738, 19.6268)
rotation = -2.0953
scale = Vector2(0.946212, 0.689103)
polygon = PackedVector2Array(-25.7444, 32.3856, 36.6306, 0.5382, 35.5786, -6.71893, -26.7974, 26.5797)
one_way_collision = true

[node name="Carril_Left_Shooter" type="StaticBody2D" parent="."]
position = Vector2(177, 138)
rotation = 2.09439
collision_layer = 32
collision_mask = 0

[node name="Triggers" type="Node" parent="."]

[node name="Rampa_in" parent="Triggers" instance=ExtResource("6_8fj8t")]
position = Vector2(513, 265)
rotation = 1.21684
scale = Vector2(0.298677, 2.3011)
collision_layer = 2
collision_mask = 1
Type = 0

[node name="In" type="CollisionShape2D" parent="Triggers/Rampa_in"]
position = Vector2(-12.9032, 0.771027)
shape = SubResource("RectangleShape2D_ymlyk")
debug_color = Color(0.929412, 0, 0.12549, 0.419608)

[node name="LayerSwapper" parent="Triggers/Rampa_in" instance=ExtResource("6_iagc4")]
outLayer = 8

[node name="Rampa_out" parent="Triggers" instance=ExtResource("6_8fj8t")]
position = Vector2(419, 450)
rotation = 1.57079
scale = Vector2(0.24, 1.49145)
collision_layer = 2
collision_mask = 1
Type = 0
triggerOnEnter = false

[node name="In" type="CollisionShape2D" parent="Triggers/Rampa_out"]
shape = SubResource("RectangleShape2D_ymlyk")
debug_color = Color(0.929412, 0, 0.12549, 0.419608)

[node name="LayerSwapper" parent="Triggers/Rampa_out" instance=ExtResource("6_iagc4")]
outLayer = 4

[node name="Rampa_in_noenter" parent="Triggers" instance=ExtResource("6_8fj8t")]
position = Vector2(519, 285)
rotation = 1.37781
scale = Vector2(0.83019, 2.20551)
collision_layer = 2
collision_mask = 1
Type = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Triggers/Rampa_in_noenter"]
polygon = PackedVector2Array(-5.31348, 10.2348, 8.53338, 2.47565, 9.37621, -6.24009, -1.29053, -9.33466, 2.89493, -15.0326, 22.3531, -7.59546, 19.4311, 5.12522, 1.14072, 16.7154)

[node name="LayerSwapper" parent="Triggers/Rampa_in_noenter" instance=ExtResource("6_iagc4")]
outLayer = 4

[node name="Shooter_Lane_full" parent="Triggers" instance=ExtResource("6_8fj8t")]
position = Vector2(691, 56)
rotation = 0.4665
scale = Vector2(0.36, 1.64551)
collision_layer = 2
collision_mask = 1
Type = 0

[node name="In" type="CollisionShape2D" parent="Triggers/Shooter_Lane_full"]
shape = SubResource("RectangleShape2D_ymlyk")
debug_color = Color(0.929412, 0, 0.12549, 0.419608)

[node name="LayerSwapper" parent="Triggers/Shooter_Lane_full" instance=ExtResource("6_iagc4")]
outLayer = 4

[node name="Shooter_Lane_escape" parent="Triggers" instance=ExtResource("6_8fj8t")]
position = Vector2(838, 408)
scale = Vector2(2.32, 1.20551)
collision_layer = 16
collision_mask = 1
Type = 0
triggerOnEnter = false

[node name="In" type="CollisionShape2D" parent="Triggers/Shooter_Lane_escape"]
shape = SubResource("RectangleShape2D_ymlyk")
debug_color = Color(0.929412, 0, 0.12549, 0.419608)

[node name="LayerSwapper" parent="Triggers/Shooter_Lane_escape" instance=ExtResource("6_iagc4")]
outLayer = 4

[node name="Shooter_Lane_empty" parent="Triggers" instance=ExtResource("6_8fj8t")]
position = Vector2(871, 661)
scale = Vector2(1.16, 0.605511)
collision_layer = 2
collision_mask = 1
Type = 0

[node name="In" type="CollisionShape2D" parent="Triggers/Shooter_Lane_empty"]
shape = SubResource("RectangleShape2D_ymlyk")
debug_color = Color(0.929412, 0, 0.12549, 0.419608)

[node name="LayerSwapper" parent="Triggers/Shooter_Lane_empty" instance=ExtResource("6_iagc4")]
position = Vector2(0, -1.65149)
outLayer = 16
